/* =========================
   Market Terminal â€” Pro Dark UI
   ========================= */

/* Global palette */
:root{
  --bg:#000;            /* true black */
  --panel:#0d1117;      /* card background */
  --text:#e6eef7;       /* primary text */
  --muted:#8aa2b2;      /* secondary text */
  --green:#24c66b;      /* positive */
  --red:#ff5c5c;        /* negative */
  --border:#20262d;     /* hairline borders */
  --header-h:56px;      /* fixed header height */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html, body {
  margin: 0; padding: 0;
  background: var(--bg); color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.fallback-note{ color:var(--muted); font-size:.9rem; }

/* =========================
   Sticky header + ticker (no label)
   ========================= */
header{
  position: sticky; top: 0; z-index: 999;
  height: var(--header-h);
  display: flex; align-items: center;
  background: #000;
  border-bottom: 1px solid var(--border);
  overflow: hidden;
}

.ticker-bar{
  display:flex; align-items:center;
  width:100%;
  padding: 0 12px;
  user-select:none;
}

.ticker-scroll{
  display:flex; align-items:center; white-space:nowrap; gap:0;
  animation: marquee 45s linear infinite;
}
.ticker-bar:hover .ticker-scroll{ animation-play-state: paused; } /* stop on hover */

@keyframes marquee{
  from{ transform: translateX(0); }
  to  { transform: translateX(-50%); }
}

/* Each ticker item with vertical dividers */
.ticker-item{
  display:flex; align-items:center; gap:.6rem;
  padding:8px 14px;
  border-left: 1px solid var(--border);
  cursor:pointer;
  transition: background-color .15s ease;
}
.ticker-item:first-child{ border-left:none; }
.ticker-item:hover{ background: rgba(255,255,255,0.03); }

.ticker-item .sym   { font-weight:800; letter-spacing:.2px; }
.ticker-item .price { color:#cbd6e2; font-variant-numeric: tabular-nums; }
.ticker-item .chg   { font-weight:800; font-variant-numeric: tabular-nums; }
.ticker-item .chg.pos{ color: var(--green); }
.ticker-item .chg.neg{ color: var(--red); }

/* Subtle flash on updates */
.flash-up   { box-shadow: inset 0 0 0 9999px rgba(36,198,107,.08); transition: box-shadow .6s ease; }
.flash-down { box-shadow: inset 0 0 0 9999px rgba(255,92,92,.08); transition: box-shadow .6s ease; }

/* =========================
   Content layout
   ========================= */
main{ padding:12px; margin-top: calc(var(--header-h) + 8px); }
.grid{
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap:12px;
  grid-auto-rows: minmax(200px, auto);
}
.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow:hidden;
}
.card h3{
  margin:0; padding:12px 14px;
  border-bottom:1px solid var(--border);
  font-weight:800;
}
.card-body{ padding:14px; }

.chart-box{
  height:560px; width:100%;
}

/* Sentiment */
.sentiment-badge{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.25rem .6rem; border-radius:999px; font-weight:800;
  background:#0b1218; color:var(--muted);
}
.sentiment-badge.pos{ color:var(--green); background:rgba(36,198,107,.12); }
.sentiment-badge.neg{ color:var(--red);   background:rgba(255,92,92,.12); }
.sentiment-meter{ height:10px; background:#0b1218; border-radius:999px; overflow:hidden; margin-top:.5rem; }
.sentiment-bar{ height:100%; width:0; transition:width .35s ease; background:linear-gradient(90deg,var(--red),#f1c40f,var(--green)); }

/* News lists */
.news-list{ display:flex; flex-direction:column; gap:.6rem; }
.news-item{ padding:.55rem .75rem; border:1px solid var(--border); border-radius:10px; }
.news-item a{ color:#c9e2ff; text-decoration:none; }
.news-item a:hover{ text-decoration:underline; }
.muted{ color:var(--muted); font-size:.9rem; }

/* Controls */
.list-controls{
  display:flex; justify-content:flex-end; margin-top:.6rem;
}
.ghost-btn{
  background:transparent; color:#c9d4e0; border:1px solid var(--border);
  border-radius:10px; padding:.4rem .7rem; cursor:pointer;
}
.ghost-btn:hover{ background:rgba(255,255,255,0.04); }

/* Calendar */
.calendar-wrap{ overflow:auto; }
.calendar-table{ width:100%; border-collapse:collapse; }
.calendar-table th, .calendar-table td{
  border-bottom:1px solid var(--border);
  padding:8px 10px; text-align:left;
}
.calendar-table th{ color:#cbd6e2; font-weight:800; background:#0a0f14; position:sticky; top:0; }
.calendar-table tr:hover td{ background: rgba(255,255,255,.03); }

/* Footer */
.footer-muted{
  padding:14px; color:var(--muted); font-size:.85rem; opacity:.8;
}

/* Hide any legacy indices block */
.legacy-indices{ display:none !important; }

@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr; }
}

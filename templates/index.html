<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script defer src="/static/main.js"></script>
</head>
<body class="theme-dark">
  <header class="top-bar">
    <div class="top-left">
      <span class="brand">MARKET TERMINAL</span>
    </div>
    <div class="ticker-wrap">
      <div id="tickerScroll" class="ticker-scroll"></div>
    </div>
    <div class="top-right">
      <button id="sp500Button" class="top-btn">S&P 500</button>
      <button id="nasdaqButton" class="top-btn">NASDAQ</button>

      <div class="menu-wrapper">
        <button id="settingsButton" class="top-btn">Menu ‚ñæ</button>
        <div id="settingsMenu" class="settings-menu hidden">
          <div class="menu-section">
            <div class="menu-section-title">Theme</div>
            <label class="toggle-row">
              <span class="icon">üåô</span>
              <span class="toggle-label">Dark</span>
              <label class="switch">
                <input type="checkbox" id="themeToggle" checked />
                <span class="slider round"></span>
              </label>
              <span class="icon">‚òÄÔ∏è</span>
            </label>
          </div>

          <div class="menu-section">
            <div class="menu-section-title">Tiles</div>
            <label class="check-row">
              <input type="checkbox" data-tile="tile-chart" checked />
              <span>Chart</span>
            </label>
            <label class="check-row">
              <input type="checkbox" data-tile="tile-insights" checked />
              <span>Market Insights</span>
            </label>
            <label class="check-row">
              <input type="checkbox" data-tile="tile-movers" checked />
              <span>Top Movers</span>
            </label>
            <label class="check-row">
              <input type="checkbox" data-tile="tile-news" checked />
              <span>News</span>
            </label>
          </div>

          <div class="menu-section">
            <div class="menu-section-title">Shortcuts</div>
            <button id="heatmapButton" class="menu-link">S&P 500 Heatmap</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div id="heatmapOverlay" class="heatmap-overlay">
    <div class="heatmap-inner">
      <button id="heatmapClose" class="heatmap-close">‚úï</button>
      <div id="heatmapWidget" class="heatmap-widget"></div>
    </div>
  </div>

  <main id="gridRoot" class="grid-root">
    <section class="tile" id="tile-chart">
      <div class="tile-header">
        <span id="chartTitle">Chart ‚Äì AAPL</span>
        <button class="tile-close" data-tile-close="tile-chart">‚Äì</button>
      </div>
      <div class="tile-body chart-body">
        <div id="tv_container" class="tv-container"></div>
      </div>
    </section>

    <section class="tile" id="tile-insights">
      <div class="tile-header">
        <span id="insightsTitle">Market Insights: AAPL</span>
        <button class="tile-close" data-tile-close="tile-insights">‚Äì</button>
      </div>
      <div class="tile-body insights-body">
        <div class="insights-grid">
          <div class="insight-box">
            <div class="label">1W</div>
            <div class="value" id="perf-1W">‚Äî</div>
          </div>
          <div class="insight-box">
            <div class="label">1M</div>
            <div class="value" id="perf-1M">‚Äî</div>
          </div>
          <div class="insight-box">
            <div class="label">3M</div>
            <div class="value" id="perf-3M">‚Äî</div>
          </div>
          <div class="insight-box">
            <div class="label">6M</div>
            <div class="value" id="perf-6M">‚Äî</div>
          </div>
          <div class="insight-box">
            <div class="label">YTD</div>
            <div class="value" id="perf-YTD">‚Äî</div>
          </div>
          <div class="insight-box">
            <div class="label">1Y</div>
            <div class="value" id="perf-1Y">‚Äî</div>
          </div>
        </div>
        <p id="insightsDescription" class="insights-description">
          Loading description‚Ä¶
        </p>
      </div>
    </section>

    <section class="tile" id="tile-movers">
      <div class="tile-header">
        <span>Top Movers (Watchlist)</span>
        <button class="tile-close" data-tile-close="tile-movers">‚Äì</button>
      </div>
      <div class="tile-body movers-body">
        <div class="movers-columns">
          <div class="movers-col">
            <div class="movers-title">Top Gainers</div>
            <table class="movers-table">
              <tbody id="gainersBody"></tbody>
            </table>
          </div>
          <div class="movers-col">
            <div class="movers-title">Top Losers</div>
            <table class="movers-table">
              <tbody id="losersBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <section class="tile" id="tile-news">
      <div class="tile-header">
        <span>News</span>
        <button class="tile-close" data-tile-close="tile-news">‚Äì</button>
      </div>
      <div class="tile-body news-body" id="newsList">
        Loading news‚Ä¶
      </div>
    </section>
  </main>
</body>
</html>

<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/style.css" />
  <!-- TradingView widget script -->
  <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>
  <header class="top-bar">
    <div class="logo">Market Terminal</div>

    <div class="ticker-bar">
      <div id="tickerScroll" class="ticker-scroll"></div>
    </div>

    <div class="top-right">
      <button id="spxShortcut" class="shortcut-btn">S&amp;P 500</button>
      <button id="nasdaqShortcut" class="shortcut-btn">NASDAQ</button>

      <div class="settings-wrapper">
        <button id="settingsBtn" class="settings-btn">Settings ‚ñæ</button>
        <div id="settingsMenu" class="settings-menu">
          <div class="settings-section">
            <div class="settings-title">Theme</div>
            <div class="theme-toggle">
              <span class="icon">‚òÄÔ∏è</span>
              <label class="switch">
                <input type="checkbox" id="themeToggle" />
                <span class="slider"></span>
              </label>
              <span class="icon">üåô</span>
            </div>
          </div>
          <div class="settings-section">
            <div class="settings-title">Tiles</div>
            <label><input type="checkbox" data-tile-toggle="chart" checked /> Chart</label>
            <label><input type="checkbox" data-tile-toggle="insights" checked /> Market Insights</label>
            <label><input type="checkbox" data-tile-toggle="movers" checked /> Top Movers</label>
            <label><input type="checkbox" data-tile-toggle="news" checked /> News</label>
            <label><input type="checkbox" data-tile-toggle="marketNews" checked /> Market News</label>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="layout">
    <!-- Row 1: Chart + Insights -->
    <section class="row row-top">
      <div class="tile tile-chart" data-tile="chart">
        <div class="tile-header">
          <span id="chartTitle">Chart ‚Äì AAPL</span>
          <button class="tile-close" data-tile-close="chart">‚àí</button>
        </div>
        <div id="tvContainer" class="tv-container"></div>
      </div>

      <div class="tile tile-insights" data-tile="insights">
        <div class="tile-header">
          <span id="insightsTitle">Market Insights: AAPL</span>
          <button class="tile-close" data-tile-close="insights">‚àí</button>
        </div>
        <div class="insights-body">
          <div class="insight-row">
            <div class="insight-card">
              <div class="label">1W</div>
              <div id="perf1W" class="value muted">‚Äî</div>
            </div>
            <div class="insight-card">
              <div class="label">1M</div>
              <div id="perf1M" class="value muted">‚Äî</div>
            </div>
            <div class="insight-card">
              <div class="label">3M</div>
              <div id="perf3M" class="value muted">‚Äî</div>
            </div>
          </div>
          <div class="insight-row">
            <div class="insight-card">
              <div class="label">6M</div>
              <div id="perf6M" class="value muted">‚Äî</div>
            </div>
            <div class="insight-card">
              <div class="label">YTD</div>
              <div id="perfYTD" class="value muted">‚Äî</div>
            </div>
            <div class="insight-card">
              <div class="label">1Y</div>
              <div id="perf1Y" class="value muted">‚Äî</div>
            </div>
          </div>
          <div id="companyDescription" class="company-description muted">
            Loading profile‚Ä¶
          </div>
        </div>
      </div>
    </section>

    <!-- Row 2: Movers + News + Market News -->
    <section class="row row-bottom">
      <div class="tile tile-movers" data-tile="movers">
        <div class="tile-header">
          <span>Top Movers (Watchlist)</span>
          <button class="tile-close" data-tile-close="movers">‚àí</button>
        </div>
        <div class="movers-body">
          <div class="movers-column">
            <div class="movers-title">Top Gainers</div>
            <table>
              <tbody id="gainersBody"></tbody>
            </table>
          </div>
          <div class="movers-column">
            <div class="movers-title">Top Losers</div>
            <table>
              <tbody id="losersBody"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="tile tile-news" data-tile="news">
        <div class="tile-header">
          <span>News</span>
          <button class="tile-close" data-tile-close="news">‚àí</button>
        </div>
        <div id="newsList" class="news-list">
          <div class="muted">No headlines.</div>
        </div>
      </div>

      <div class="tile tile-market-news" data-tile="marketNews">
        <div class="tile-header">
          <span>Market News (US)</span>
          <button class="tile-close" data-tile-close="marketNews">‚àí</button>
        </div>
        <div id="marketNewsList" class="news-list">
          <div class="muted">No headlines.</div>
        </div>
      </div>
    </section>
  </main>

  <script src="/static/main.js"></script>
</body>
</html>

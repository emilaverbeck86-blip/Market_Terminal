<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body class="theme-dark">
<header class="top-bar">
  <div class="brand">MARKET TERMINAL</div>
  <div id="ticker-bar" class="ticker-bar">
    <div class="ticker-inner" id="ticker-inner"></div>
  </div>
  <div class="top-right">
    <button id="theme-toggle" class="toggle">
      <span class="icon-sun">‚òÄÔ∏è</span>
      <span class="icon-moon">üåô</span>
      <span class="toggle-knob"></span>
    </button>

    <div class="menu-wrapper">
      <button id="menu-button" class="menu-button">Menu ‚ñæ</button>
      <div id="menu-dropdown" class="menu-dropdown hidden">
        <div class="menu-section-title">Shortcuts</div>
        <button class="menu-shortcut" data-symbol="OANDA:US500USD">
          S&amp;P 500 (US500)
        </button>
        <button class="menu-shortcut" data-symbol="OANDA:NAS100USD">
          NASDAQ 100 (NAS100)
        </button>

        <div class="menu-section-title">Tools</div>
        <a href="/heatmap" target="_blank" class="menu-link">
          S&amp;P 500 Heatmap
        </a>
      </div>
    </div>
  </div>
</header>

<main class="layout">
  <!-- Row 1: Chart + News -->
  <section class="row row-1">
    <div class="tile tile-chart">
      <div class="tile-header">
        <span>Chart ‚Äì <span id="chart-symbol-label">AAPL</span></span>
      </div>
      <div id="tv_chart_container" class="chart-container"></div>
    </div>

    <div class="tile tile-news">
      <div class="tile-header">
        <span>News ‚Äì <span id="news-symbol-label">AAPL</span></span>
      </div>
      <div id="news-list" class="tile-body scrollable"></div>
    </div>
  </section>

  <!-- Row 2: Insights + Macro Maps -->
  <section class="row row-2">
    <div class="tile tile-insights">
      <div class="tile-header">
        <span>Market Insights: <span id="insights-symbol-label">AAPL</span></span>
      </div>
      <div class="tile-body insights-grid" id="insights-grid">
        <div class="insight-cell">
          <div class="insight-value" id="insight-1w">‚Äì</div>
          <div class="insight-label">1W</div>
        </div>
        <div class="insight-cell">
          <div class="insight-value" id="insight-1m">‚Äì</div>
          <div class="insight-label">1M</div>
        </div>
        <div class="insight-cell">
          <div class="insight-value" id="insight-3m">‚Äì</div>
          <div class="insight-label">3M</div>
        </div>
        <div class="insight-cell">
          <div class="insight-value" id="insight-6m">‚Äì</div>
          <div class="insight-label">6M</div>
        </div>
        <div class="insight-cell">
          <div class="insight-value" id="insight-ytd">‚Äì</div>
          <div class="insight-label">YTD</div>
        </div>
        <div class="insight-cell">
          <div class="insight-value" id="insight-1y">‚Äì</div>
          <div class="insight-label">1Y</div>
        </div>
      </div>
      <div id="insights-profile" class="tile-body profile-text"></div>
    </div>

    <div class="tile tile-macro">
      <div class="tile-header">
        <span>Macro Maps</span>
      </div>
      <div class="tile-body macro-body">
        <p>
          TradingView's Macro Maps page can't be embedded directly (they block
          iframes), but you can open the full interactive view in a new tab:
        </p>
        <a
          href="https://www.tradingview.com/macro/world-maps/"
          target="_blank"
          rel="noopener"
          class="primary-link"
        >
          Open TradingView Macro Maps
        </a>
      </div>
    </div>
  </section>

  <!-- Row 3: Economic Calendar + Movers -->
  <section class="row row-3">
    <div class="tile tile-calendar">
      <div class="tile-header">
        <span>Economic Calendar (US)</span>
      </div>
      <div class="tile-body scrollable">
        <!-- TradingView economic calendar embed -->
        <div class="tradingview-widget-container">
          <div id="economic-calendar"></div>
          <script
            type="text/javascript"
            src="https://s3.tradingview.com/external-embedding/embed-widget-events.js"
            async
          >
          {
            "colorTheme": "dark",
            "isTransparent": true,
            "width": "100%",
            "height": 400,
            "locale": "en",
            "importanceFilter": "-1,0,1",
            "currencyFilter": "USD"
          }
          </script>
        </div>
      </div>
    </div>

    <div class="tile tile-movers">
      <div class="tile-header">
        <span>Top Movers (Watchlist)</span>
      </div>
      <div class="tile-body movers-body">
        <div class="movers-column">
          <div class="movers-title">Top Gainers</div>
          <div id="gainers-list"></div>
        </div>
        <div class="movers-column">
          <div class="movers-title">Top Losers</div>
          <div id="losers-list"></div>
        </div>
      </div>
    </div>
  </section>
</main>

<script src="/static/main.js"></script>
</body>
</html>

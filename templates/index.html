<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Market Terminal</title>
    <link rel="stylesheet" href="/static/style.css" />
    <script src="https://s3.tradingview.com/tv.js"></script>
  </head>
  <body class="theme-dark">
    <header class="top-bar">
      <div class="brand">MARKET TERMINAL</div>
      <div id="ticker-bar" class="ticker-bar">
        <div id="ticker-track" class="ticker-track"></div>
      </div>
      <div class="menu-wrapper">
        <button id="heatmapLink" class="menu-link">Heatmap</button>
        <div class="menu">
          <!-- removed the â–¾ character here -->
          <button id="menuButton" class="menu-button">Menu</button>
          <div id="menuDropdown" class="menu-dropdown">
            <div class="menu-section">
              <span>Theme</span>
              <div class="theme-toggle">
                <span class="icon">â˜€</span>
                <label class="switch">
                  <input type="checkbox" id="themeToggle" />
                  <span class="slider"></span>
                </label>
                <span class="icon">ðŸŒ™</span>
              </div>
            </div>
            <div class="menu-section">
              <span>Shortcuts</span>
              <button class="shortcut" data-symbol="SPY">S&amp;P 500 (SPY)</button>
              <button class="shortcut" data-symbol="QQQ">NASDAQ 100 (QQQ)</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main id="layout">
      <!-- Row 1: chart + news -->
      <section class="row row-1">
        <div class="tile chart-tile" id="chart-tile">
          <div class="tile-header">
            <span id="chart-title">Chart â€“ AAPL</span>
          </div>
          <div id="tv-chart-container" class="chart-container"></div>
        </div>
        <div class="tile news-tile">
          <div class="tile-header">
            <span id="news-title">News â€“ AAPL</span>
          </div>
          <div id="news-list" class="news-list"></div>
        </div>
      </section>

      <!-- Row 2: insights + macro map -->
      <section class="row row-2">
        <div class="tile insights-tile">
          <div class="tile-header">
            <span id="insights-title">Market Insights: AAPL</span>
          </div>
          <div id="insights-grid" class="insights-grid"></div>
          <div id="insights-description" class="insights-description"></div>
        </div>

        <div class="tile macro-tile">
          <div class="tile-header">
            <span>Macro Maps</span>
          </div>
          <div id="macro-map" class="macro-map">
            <div class="macro-legend">
              <span>Inflation</span>
              <div class="legend-items">
                <span class="legend-box level-1"></span><span>&lt; 2%</span>
                <span class="legend-box level-2"></span><span>2â€“4%</span>
                <span class="legend-box level-3"></span><span>4â€“6%</span>
                <span class="legend-box level-4"></span><span>&gt; 6%</span>
              </div>
            </div>
            <svg
              id="macro-map-svg"
              viewBox="0 0 800 400"
              class="macro-svg"
              role="img"
              aria-label="World macro map"
            >
              <!-- simplified world shapes -->
              <rect x="40" y="130" width="180" height="90" class="country us" />
              <rect x="210" y="150" width="120" height="80" class="country eu" />
              <rect x="350" y="160" width="160" height="80" class="country me" />
              <rect x="520" y="150" width="140" height="90" class="country asia" />
              <rect x="80" y="230" width="120" height="90" class="country latam" />
              <rect x="520" y="240" width="120" height="70" class="country aus" />
            </svg>
            <div id="macro-tooltip" class="macro-tooltip"></div>
          </div>
        </div>
      </section>

      <!-- Row 3: economic calendar + movers -->
      <section class="row row-3">
        <div class="tile calendar-tile">
          <div class="tile-header">
            <span>Economic Calendar (US)</span>
          </div>
          <div id="calendar-container" class="calendar-container"></div>
        </div>
        <div class="tile movers-tile">
          <div class="tile-header">
            <span>Top Movers (Watchlist)</span>
          </div>
          <div class="movers-columns">
            <div>
              <div class="movers-title">Top Gainers</div>
              <ul id="gainers-list" class="movers-list"></ul>
            </div>
            <div>
              <div class="movers-title">Top Losers</div>
              <ul id="losers-list" class="movers-list"></ul>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="/static/main.js"></script>
  </body>
</html>

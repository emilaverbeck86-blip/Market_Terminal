<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- CSS -->
  <link rel="stylesheet" href="/static/style.css" />

  <!-- TradingView main script -->
  <script src="https://s3.tradingview.com/tv.js"></script>

  <!-- ECharts (world map) -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
</head>

<body class="theme-dark">

<!-- ========================================================= -->
<!--                     HEADER + MENU                          -->
<!-- ========================================================= -->
<header class="mt-header">

  <div class="mt-logo">MARKET TERMINAL</div>

  <!-- Ticker Bar -->
  <div class="mt-ticker-bar" id="ticker-bar">
    <!-- Filled dynamically -->
  </div>

  <!-- Right side menu -->
  <div class="mt-header-right">

    <!-- Heatmap shortcut -->
    <button id="heatmap-link" type="button" class="mt-button mt-button-ghost">
      Heatmap
    </button>

    <!-- Dropdown Menu -->
    <div class="mt-menu">
      <button id="menu-toggle" class="mt-button mt-button-ghost">Menu</button>

      <div id="menu-dropdown" class="mt-menu-dropdown">
        <!-- Theme Switch -->
        <div class="mt-menu-section">
          <div class="mt-menu-title">Theme</div>

          <label class="mt-switch-row">
            <span>Dark</span>
            <label class="mt-switch">
              <input type="checkbox" id="theme-toggle">
              <span class="mt-slider"></span>
            </label>
            <span>Light</span>
          </label>
        </div>

        <!-- Symbol Shortcuts -->
        <div class="mt-menu-section">
          <div class="mt-menu-title">Shortcuts</div>

          <button class="mt-menu-item" data-shortcut-symbol="SPY">
            S&amp;P 500 (SPY)
          </button>

          <button class="mt-menu-item" data-shortcut-symbol="QQQ">
            NASDAQ 100 (QQQ)
          </button>
        </div>
      </div>
    </div>
  </div>

</header>

<!-- ========================================================= -->
<!--                          MAIN                               -->
<!-- ========================================================= -->
<main class="mt-main">

  <!-- ========================================================= -->
  <!--                       ROW 1                                -->
  <!--         Chart (links) + News (rechts)                     -->
  <!-- ========================================================= -->
  <div class="mt-row-block" data-row-block="1">
    <section
      class="mt-row"
      data-row="1"
      data-row-height="--row1-height"
      data-col-key="row1"
      data-col-left="--row1-col1"
      data-col-right="--row1-col2">

      <!-- Chart -->
      <div class="mt-tile mt-tile-chart">
        <div class="mt-tile-header">
          <span>Chart – <span id="chart-symbol">AAPL</span></span>
        </div>

        <div class="mt-tile-body chart-body">
          <div id="tv-chart"></div>
        </div>
      </div>

      <!-- Column resizer -->
      <div
        class="mt-col-resizer"
        data-col-resizer="row1"
        role="separator"
        aria-label="Resize chart and news panel">
      </div>

      <!-- News -->
      <div class="mt-tile mt-tile-news">
        <div class="mt-tile-header">
          <span>News – <span id="news-symbol">AAPL</span></span>
        </div>

        <div class="mt-tile-body mt-scroll" id="news-list">
          <div class="mt-placeholder">Loading news…</div>
        </div>
      </div>

    </section>

    <!-- Row 1 resizer -->
    <div
      class="mt-row-resizer"
      data-row-resizer="row1"
      role="separator"
      aria-label="Resize first row">
    </div>
  </div>

  <!-- ========================================================= -->
  <!--                       ROW 2                                -->
  <!--      Insights (links) + Economic Calendar (rechts)        -->
  <!-- ========================================================= -->
  <div class="mt-row-block" data-row-block="2">
    <section
      class="mt-row"
      data-row="2"
      data-row-height="--row2-height"
      data-col-key="row2"
      data-col-left="--row2-col1"
      data-col-right="--row2-col2">

      <!-- Insights -->
      <div class="mt-tile mt-tile-insights">
        <div class="mt-tile-header">
          <span>Market Insights – <span id="insights-symbol">AAPL</span></span>
        </div>

        <div class="mt-tile-body mt-insights">

          <div class="mt-insights-grid">
            <div class="mt-insight-card">
              <div class="mt-insight-label">1W</div>
              <div class="mt-insight-value" data-period="1W">–</div>
            </div>
            <div class="mt-insight-card">
              <div class="mt-insight-label">1M</div>
              <div class="mt-insight-value" data-period="1M">–</div>
            </div>
            <div class="mt-insight-card">
              <div class="mt-insight-label">3M</div>
              <div class="mt-insight-value" data-period="3M">–</div>
            </div>
            <div class="mt-insight-card">
              <div class="mt-insight-label">6M</div>
              <div class="mt-insight-value" data-period="6M">–</div>
            </div>
            <div class="mt-insight-card">
              <div class="mt-insight-label">YTD</div>
              <div class="mt-insight-value" data-period="YTD">–</div>
            </div>
            <div class="mt-insight-card">
              <div class="mt-insight-label">1Y</div>
              <div class="mt-insight-value" data-period="1Y">–</div>
            </div>
          </div>

          <p id="insights-profile" class="mt-insights-text">
            No performance snapshot available at this time.
          </p>

        </div>
      </div>

      <!-- Column resizer -->
      <div
        class="mt-col-resizer"
        data-col-resizer="row2"
        role="separator"
        aria-label="Resize insights and calendar panels">
      </div>

      <!-- Calendar -->
      <div class="mt-tile mt-tile-calendar">
        <div class="mt-tile-header">
          <span>Economic Calendar (US)</span>
        </div>

        <div class="mt-tile-body mt-scroll">
          <table class="mt-table">
            <thead>
              <tr>
                <th>Time</th>
                <th>Country</th>
                <th>Event</th>
                <th>Actual</th>
                <th>Forecast</th>
                <th>Previous</th>
              </tr>
            </thead>

            <tbody id="calendar-body"></tbody>
          </table>
        </div>
      </div>

    </section>

    <!-- Row 2 resizer -->
    <div
      class="mt-row-resizer"
      data-row-resizer="row2"
      role="separator"
      aria-label="Resize second row">
    </div>
  </div>

  <!-- ========================================================= -->
  <!--                       ROW 3                                -->
  <!--      Macro Map (links) + Movers (rechts)                  -->
  <!-- ========================================================= -->
  <div class="mt-row-block" data-row-block="3">
    <section
      class="mt-row"
      data-row="3"
      data-row-height="--row3-height"
      data-col-key="row3"
      data-col-left="--row3-col1"
      data-col-right="--row3-col2">

      <!-- Macro World Map -->
      <div class="mt-tile mt-tile-macro">
        <div class="mt-tile-header">
          <span>Macro Maps</span>

          <div class="mt-macro-tabs">
            <button class="mt-macro-tab active" data-metric="inflation">Inflation</button>
            <button class="mt-macro-tab" data-metric="rates">Rates</button>
            <button class="mt-macro-tab" data-metric="gdp">GDP</button>
            <button class="mt-macro-tab" data-metric="unemployment">Unemployment</button>
          </div>
        </div>

        <div class="mt-tile-body">
          <div id="macro-map"></div>

          <div class="mt-macro-legend">
            <span class="band band-a">&lt; 2%</span>
            <span class="band band-b">2–4%</span>
            <span class="band band-c">4–6%</span>
            <span class="band band-d">&gt; 6%</span>
          </div>
        </div>
      </div>

      <!-- Column resizer -->
      <div
        class="mt-col-resizer"
        data-col-resizer="row3"
        role="separator"
        aria-label="Resize macro and movers panels">
      </div>

      <!-- Movers -->
      <div class="mt-tile mt-tile-movers">
        <div class="mt-tile-header">
          <span>Top Movers (Watchlist)</span>
        </div>

        <div class="mt-tile-body mt-movers-body">

          <div class="mt-movers-column">
            <div class="mt-movers-title">Top Gainers</div>
            <div id="movers-gainers"></div>
          </div>

          <div class="mt-movers-column">
            <div class="mt-movers-title">Top Losers</div>
            <div id="movers-losers"></div>
          </div>

        </div>
      </div>

    </section>

    <!-- Row 3 resizer -->
    <div
      class="mt-row-resizer"
      data-row-resizer="row3"
      role="separator"
      aria-label="Resize third row">
    </div>

  </div>

</main>

<!-- ========================================================= -->
<!--                      HEATMAP MODAL                         -->
<!-- ========================================================= -->
<div id="heatmap-modal" class="mt-modal" aria-hidden="true">
  <div class="mt-modal-dialog" role="dialog" aria-modal="true">
    <div class="mt-modal-header">
      <span>S&amp;P 500 Heatmap</span>
      <button class="mt-modal-close" type="button">&times;</button>
    </div>

    <div class="mt-modal-body">
      <div class="tradingview-widget-container" id="heatmap-widget-container">
        <div id="heatmap-widget"></div>
      </div>
    </div>
  </div>
</div>

<!-- ========================================================= -->
<!--                     MAIN JAVASCRIPT                        -->
<!-- ========================================================= -->
<script src="/static/main.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body class="theme-dark">
  <header class="top-bar">
    <div class="brand">MARKET TERMINAL</div>

    <div class="ticker-strip">
      <div id="tickerScroll" class="ticker-scroll"></div>
    </div>

    <div class="top-actions">
      <button id="fundamentalsBtn" class="top-btn">Fundamentals</button>

      <div class="menu-wrapper">
        <button id="menuButton" class="top-btn">Menu â–¾</button>
        <div id="menuDropdown" class="menu-dropdown">
          <div class="menu-section">
            <div class="menu-label">Theme</div>
            <div id="themeToggle" class="theme-toggle">
              <span class="theme-icon sun">â˜€</span>
              <div class="toggle-track">
                <div class="toggle-knob"></div>
              </div>
              <span class="theme-icon moon">ðŸŒ™</span>
            </div>
          </div>

          <div class="menu-section">
            <div class="menu-label">Shortcuts</div>
            <button class="menu-shortcut" data-symbol="OANDA:US500USD">
              S&amp;P 500 (US500)
            </button>
            <button class="menu-shortcut" data-symbol="OANDA:NAS100USD">
              NASDAQ 100 (NAS100)
            </button>
          </div>

          <div class="menu-section">
            <div class="menu-label">Tiles</div>
            <label><input type="checkbox" data-tile-toggle="chart" checked /> Chart</label>
            <label><input type="checkbox" data-tile-toggle="news" checked /> News</label>
            <label><input type="checkbox" data-tile-toggle="insights" checked /> Market Insights</label>
            <label><input type="checkbox" data-tile-toggle="dom" checked /> Depth of Market</label>
            <label><input type="checkbox" data-tile-toggle="calendar" checked /> Economic Calendar</label>
            <label><input type="checkbox" data-tile-toggle="movers" checked /> Top Movers</label>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main id="layout">
    <!-- ROW 1: Chart + News -->
    <section class="row" id="row1">
      <div class="tile" data-tile-id="chart" id="tile-chart">
        <div class="tile-header">
          <span>Chart â€“ <span id="chartTitle">AAPL</span></span>
          <button class="tile-close" data-close="chart">â€“</button>
        </div>
        <div class="tile-body chart-body">
          <div id="tv_container" class="tv-container"></div>
        </div>
      </div>

      <div class="col-resizer" data-row="1"></div>

      <div class="tile" data-tile-id="news" id="tile-news">
        <div class="tile-header">
          <span id="newsHeader">News</span>
          <button class="tile-close" data-close="news">â€“</button>
        </div>
        <div class="tile-body scrollable" id="newsList">
          <div class="muted">Loading newsâ€¦</div>
        </div>
      </div>
    </section>

    <div class="row-resizer" data-row="1"></div>

    <!-- ROW 2: Market Insights + DOM -->
    <section class="row" id="row2">
      <div class="tile" data-tile-id="insights" id="tile-insights">
        <div class="tile-header">
          <span>Market Insights: <span id="insightsSymbol">AAPL</span></span>
          <button class="tile-close" data-close="insights">â€“</button>
        </div>
        <div class="tile-body">
          <div class="insights-grid">
            <div class="insight-box">
              <div class="insight-value" id="insight-1w">â€”</div>
              <div class="insight-label">1W</div>
            </div>
            <div class="insight-box">
              <div class="insight-value" id="insight-1m">â€”</div>
              <div class="insight-label">1M</div>
            </div>
            <div class="insight-box">
              <div class="insight-value" id="insight-3m">â€”</div>
              <div class="insight-label">3M</div>
            </div>
            <div class="insight-box">
              <div class="insight-value" id="insight-6m">â€”</div>
              <div class="insight-label">6M</div>
            </div>
            <div class="insight-box">
              <div class="insight-value" id="insight-ytd">â€”</div>
              <div class="insight-label">YTD</div>
            </div>
            <div class="insight-box">
              <div class="insight-value" id="insight-1y">â€”</div>
              <div class="insight-label">1Y</div>
            </div>
          </div>
          <div class="company-description" id="companyDescription">
            Loading profileâ€¦
          </div>
        </div>
      </div>

      <div class="col-resizer" data-row="2"></div>

      <div class="tile" data-tile-id="dom" id="tile-dom">
        <div class="tile-header">
          <span>Depth of Market (simulated)</span>
          <button class="tile-close" data-close="dom">â€“</button>
        </div>
        <div class="tile-body scrollable">
          <table class="dom-table">
            <thead>
              <tr>
                <th>Bid Size</th>
                <th>Bid</th>
                <th>Ask</th>
                <th>Ask Size</th>
              </tr>
            </thead>
            <tbody id="domBody">
              <!-- filled by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <div class="row-resizer" data-row="2"></div>

    <!-- ROW 3: Calendar + Movers -->
    <section class="row" id="row3">
      <div class="tile" data-tile-id="calendar" id="tile-calendar">
        <div class="tile-header">
          <span>Economic Calendar (US)</span>
          <button class="tile-close" data-close="calendar">â€“</button>
        </div>
        <div class="tile-body scrollable" id="calendarBody">
          <div class="muted">Loading calendarâ€¦</div>
        </div>
      </div>

      <div class="col-resizer" data-row="3"></div>

      <div class="tile" data-tile-id="movers" id="tile-movers">
        <div class="tile-header">
          <span>Top Movers (Watchlist)</span>
          <button class="tile-close" data-close="movers">â€“</button>
        </div>
        <div class="tile-body scrollable movers-body">
          <div class="movers-columns">
            <div>
              <div class="muted small">Top Gainers</div>
              <table class="movers-table">
                <tbody id="gainersBody"></tbody>
              </table>
            </div>
            <div>
              <div class="muted small">Top Losers</div>
              <table class="movers-table">
                <tbody id="losersBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- TradingView script -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script src="/static/main.js"></script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Market Terminal</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/static/style.css" />
  <!-- TradingView core script -->
  <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body class="theme-dark">
<header class="top-bar">
  <div class="brand">MARKET TERMINAL</div>

  <div class="ticker-strip">
    <div id="tickerScroll" class="ticker-scroll"></div>
  </div>

  <div class="header-actions">
    <button class="shortcut-btn" data-symbol="CURRENCYCOM:US500">S&P 500</button>
    <button class="shortcut-btn" data-symbol="CURRENCYCOM:US100">NASDAQ</button>

    <div class="menu">
      <button id="menuToggle" class="menu-toggle">Menu â–¾</button>
      <div id="menuDropdown" class="menu-dropdown">
        <div class="menu-section">
          <span class="menu-label">Theme</span>
          <label class="switch">
            <input type="checkbox" id="themeToggle" />
            <span class="slider round"></span>
          </label>
          <span class="theme-icon" id="themeIcon">ðŸŒ™</span>
        </div>
      </div>
    </div>
  </div>
</header>

<main id="gridRoot">
  <!-- Row 1: Chart | News -->
  <section class="row" data-row="1">
    <div class="tile tile-chart" id="tile-chart">
      <div class="tile-header">Chart â€“ <span id="chartTitle">AAPL</span></div>
      <div class="tile-body chart-body">
        <div id="tv_container" class="tv-container"></div>
      </div>
    </div>
    <div class="row-resizer" data-row="1"></div>
    <div class="tile tile-news" id="tile-news">
      <div class="tile-header">News</div>
      <div class="tile-body news-body">
        <div id="newsList" class="news-list">
          <div class="muted">Loading newsâ€¦</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Row 2: Insights | DOM -->
  <section class="row" data-row="2">
    <div class="tile tile-insights" id="tile-insights">
      <div class="tile-header">Market Insights: <span id="insightsSymbol">AAPL</span></div>
      <div class="tile-body insights-body">
        <div class="perf-grid">
          <div class="perf-item">
            <div class="label">1W</div><div class="value" id="perf1W">â€”</div>
          </div>
          <div class="perf-item">
            <div class="label">1M</div><div class="value" id="perf1M">â€”</div>
          </div>
          <div class="perf-item">
            <div class="label">3M</div><div class="value" id="perf3M">â€”</div>
          </div>
          <div class="perf-item">
            <div class="label">6M</div><div class="value" id="perf6M">â€”</div>
          </div>
          <div class="perf-item">
            <div class="label">YTD</div><div class="value" id="perfYTD">â€”</div>
          </div>
          <div class="perf-item">
            <div class="label">1Y</div><div class="value" id="perf1Y">â€”</div>
          </div>
        </div>
        <div class="profile-text" id="profileText">
          Loading profileâ€¦
        </div>
      </div>
    </div>
    <div class="row-resizer" data-row="2"></div>
    <div class="tile tile-dom" id="tile-dom">
      <div class="tile-header">Depth of Market (simulated)</div>
      <div class="tile-body dom-body">
        <table class="dom-table">
          <thead>
          <tr>
            <th>Bid Size</th>
            <th>Bid</th>
            <th>Ask</th>
            <th>Ask Size</th>
          </tr>
          </thead>
          <tbody id="domBody">
          <tr><td colspan="4" class="muted">Waiting for priceâ€¦</td></tr>
          </tbody>
        </table>
        <div class="dom-note muted">
          This is a simulated depth-of-market view based on last price levels, not a live order book.
        </div>
      </div>
    </div>
  </section>

  <!-- Row 3: Calendar | Movers -->
  <section class="row" data-row="3">
    <div class="tile tile-calendar" id="tile-calendar">
      <div class="tile-header">Economic Calendar (US)</div>
      <div class="tile-body calendar-body">
        <div id="tv_calendar_container" class="calendar-widget"></div>
      </div>
    </div>
    <div class="row-resizer" data-row="3"></div>
    <div class="tile tile-movers" id="tile-movers">
      <div class="tile-header">Top Movers (Watchlist)</div>
      <div class="tile-body movers-body">
        <div class="movers-columns">
          <div>
            <div class="subhead">Top Gainers</div>
            <table class="movers-table">
              <tbody id="gainersBody">
              <tr><td class="muted">No data.</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <div class="subhead">Top Losers</div>
            <table class="movers-table">
              <tbody id="losersBody">
              <tr><td class="muted">No data.</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<script>
  window.DEFAULT_SYMBOL = "{{ default_symbol }}";
</script>
<script src="/static/main.js"></script>
</body>
</html>
